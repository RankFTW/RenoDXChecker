<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="RenoDXCommander.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="using:RenoDXCommander.ViewModels"
    Title="RDXC - RenoDXCommander">

    <!-- Palette: #0D1117 bg, #131A24 card, #00C8FF cyan-accent, #39FF14 neon-green, #7A8AAA text -->

    <Grid Background="#0D1117" AllowDrop="True" DragOver="Grid_DragOver" Drop="Grid_Drop">
        <Grid.Resources>
            <x:Double x:Key="CardItemWidth">390</x:Double>
        </Grid.Resources>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>  <!-- header -->
            <RowDefinition Height="Auto"/>  <!-- filter bar -->
            <RowDefinition Height="*"/>     <!-- cards area -->
            <RowDefinition Height="Auto"/>  <!-- status bar -->
        </Grid.RowDefinitions>

        <!-- ‚ïê‚ïê HEADER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <Border Grid.Row="0" Padding="20,14" Background="#090E16"
                BorderBrush="#1A2535" BorderThickness="0,0,0,1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Logo + title -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="12" VerticalAlignment="Center">
                    <Border Width="40" Height="40" CornerRadius="10">
                        <Image Source="icon.ico" Width="40" Height="40" Stretch="Uniform"/>
                    </Border>
                    <StackPanel VerticalAlignment="Center">
                        <TextBlock FontSize="16" FontWeight="Bold">
                            <Run Text="RDXC" Foreground="#00C8FF"/>
                        </TextBlock>
                        <TextBlock Text="RenoDXCommander" FontSize="11" Foreground="#3A7A8A"/>
                    </StackPanel>
                </StackPanel>

                <!-- Search -->
                <TextBox Grid.Column="1"
                         x:Name="SearchBox"
                         PlaceholderText="üîç  Search games..."
                         TextChanged="SearchBox_TextChanged"
                         Background="#0F1820" Foreground="#A0B8C8"
                         BorderBrush="#1A3040" BorderThickness="1"
                         CornerRadius="8" Padding="12,8"
                         FontSize="13"
                         MaxWidth="380" HorizontalAlignment="Center" VerticalAlignment="Center"/>

                <!-- Action buttons: DC Mode | Add Game | Support | Refresh | About -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                    <Button x:Name="DcModeBtn"
                                 Click="DcModeButton_Click"
                                 Content="{x:Bind ViewModel.DcModeBtnLabel, Mode=OneWay}"
                                 Background="{x:Bind ViewModel.DcModeBtnBackground, Mode=OneWay}"
                                 Foreground="{x:Bind ViewModel.DcModeBtnForeground, Mode=OneWay}"
                                 BorderBrush="{x:Bind ViewModel.DcModeBtnBorder, Mode=OneWay}"
                                 BorderThickness="1"
                                 CornerRadius="8" Padding="12,7" FontSize="12"
                                 ToolTipService.ToolTip="Cycle DC Mode: Off ‚Üí Mode 1 (DC ‚Üí dxgi.dll) ‚Üí Mode 2 (DC ‚Üí winmm.dll) ‚Üí Off"/>
                    <Button x:Name="DeployDcModeBtn" Content="‚öô"
                            Click="DeployDcModeButton_Click"
                            Background="{x:Bind ViewModel.DcModeBtnBackground, Mode=OneWay}"
                            Foreground="{x:Bind ViewModel.DcModeBtnForeground, Mode=OneWay}"
                            BorderBrush="{x:Bind ViewModel.DcModeBtnBorder, Mode=OneWay}"
                            BorderThickness="1" CornerRadius="8" Padding="8,7" FontSize="12"
                            Width="34"
                            ToolTipService.ToolTip="Deploy current DC Mode"/>
                    <!-- Shaders cycle button: Off ‚Üí Minimum ‚Üí All ‚Üí Off -->
                    <Button x:Name="ShadersModeBtn"
                            Content="{x:Bind ViewModel.ShadersBtnLabel, Mode=OneWay}"
                            Click="ShadersModeButton_Click"
                            Background="{x:Bind ViewModel.ShadersBtnBackground, Mode=OneWay}"
                            Foreground="{x:Bind ViewModel.ShadersBtnForeground, Mode=OneWay}"
                            BorderBrush="{x:Bind ViewModel.ShadersBtnBorder, Mode=OneWay}"
                            BorderThickness="1" CornerRadius="8" Padding="12,7" FontSize="12"
                            ToolTipService.ToolTip="Click to cycle shader deploy mode: Off ‚Üí Minimum (Lilium only) ‚Üí All packs ‚Üí User Defined ‚Üí Off"/>
                    <Button x:Name="DeployShadersBtn" Content="üé®"
                            Click="DeployShadersButton_Click"
                            Background="{x:Bind ViewModel.ShadersBtnBackground, Mode=OneWay}"
                            Foreground="{x:Bind ViewModel.ShadersBtnForeground, Mode=OneWay}"
                            BorderBrush="{x:Bind ViewModel.ShadersBtnBorder, Mode=OneWay}"
                            BorderThickness="1" CornerRadius="8" Padding="8,7" FontSize="12"
                            Width="34"
                            ToolTipService.ToolTip="Deploy current shader mode to all installed games"/>
                    <!-- Update All button ‚Äî purple when any update available -->
                    <Button x:Name="UpdateAllBtn"
                            Click="UpdateAllButton_Click"
                            Background="{x:Bind ViewModel.UpdateAllBtnBackground, Mode=OneWay}"
                            Foreground="{x:Bind ViewModel.UpdateAllBtnForeground, Mode=OneWay}"
                            BorderBrush="{x:Bind ViewModel.UpdateAllBtnBorder, Mode=OneWay}"
                            BorderThickness="1" CornerRadius="8" Padding="12,7" FontSize="12"
                            ToolTipService.ToolTip="Update all RenoDX, ReShade or DC installations">
                        <Button.Content>
                            <TextBlock Text="‚¨Ü Update All"/>
                        </Button.Content>
                        <Button.Flyout>
                            <MenuFlyout x:Name="UpdateAllFlyout">
                                <MenuFlyoutItem x:Name="UpdateAllRenoDxItem"
                                               Text="‚¨Ü  Update all RenoDX"
                                               Click="UpdateAllRenoDx_Click"/>
                                <MenuFlyoutItem x:Name="UpdateAllReShadeItem"
                                               Text="‚¨Ü  Update all ReShade"
                                               Click="UpdateAllReShade_Click"/>
                                <MenuFlyoutItem x:Name="UpdateAllDcItem"
                                               Text="‚¨Ü  Update all Display Commander"
                                               Click="UpdateAllDc_Click"/>
                            </MenuFlyout>
                        </Button.Flyout>
                    </Button>
                    <Button x:Name="AddGameBtn" Content="‚ûï Add Game"
                            Click="AddGameButton_Click"
                            Background="#0F1E2A" Foreground="#39FF14"
                            BorderBrush="#1A3A20" BorderThickness="1"
                            CornerRadius="8" Padding="12,7" FontSize="12"
                            ToolTipService.ToolTip="Manually add a game folder"/>
                    <Button x:Name="SupportBtn" Content="üí¨ Support"
                            Click="SupportButton_Click"
                            Background="#0F1E2A" Foreground="#00C8FF"
                            BorderBrush="#1A3A4A" BorderThickness="1"
                            CornerRadius="8" Padding="12,7" FontSize="12"
                            ToolTipService.ToolTip="Open RenoDXCommander support channel on Discord"/>
                    <Button x:Name="RefreshBtn" Content="‚Üª Refresh"
                            Click="RefreshButton_Click"
                            Background="#0F1820" Foreground="#7A9AAA"
                            BorderBrush="#1A3040" BorderThickness="1"
                            CornerRadius="8" Padding="12,7" FontSize="12"
                            ToolTipService.ToolTip="Rescan game library and fetch latest mod info"/>
                    <Button x:Name="AboutBtn" Content="üßÅ"
                            Click="AboutButton_Click"
                            Background="#0F1820" Foreground="#7A9AAA"
                            BorderBrush="#1A3040" BorderThickness="1"
                            CornerRadius="8" Width="44" Height="34" FontSize="16"
                            Padding="0" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"
                            ToolTipService.ToolTip="About RenoDXCommander"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- ‚ïê‚ïê FILTER BAR ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <Border Grid.Row="1" Padding="20,8" Background="#0E1226"
                BorderBrush="#1C2440" BorderThickness="0,0,0,1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="6">
                    <Button x:Name="FilterFavourites" Content="‚≠ê Favourites" Tag="Favourites"
                            Click="Filter_Click"
                            Background="#161E38" Foreground="#8896C0"
                            BorderThickness="0" CornerRadius="7" Padding="12,6" FontSize="12"/>
                    <Button x:Name="FilterDetected" Content="üéÆ All Games" Tag="Detected"
                            Click="Filter_Click"
                            Background="#1E2850" Foreground="White"
                            BorderThickness="0" CornerRadius="7" Padding="12,6" FontSize="12"/>
                    <Button x:Name="FilterInstalled" Content="‚úì Installed" Tag="Installed"
                            Click="Filter_Click"
                            Background="#161E38" Foreground="#8896C0"
                            BorderThickness="0" CornerRadius="7" Padding="12,6" FontSize="12"/>
                    <Button x:Name="FilterNotInstalled" Content="‚úó Not Installed" Tag="NotInstalled"
                            Click="Filter_Click"
                            Background="#161E38" Foreground="#8896C0"
                            BorderThickness="0" CornerRadius="7" Padding="12,6" FontSize="12"/>
                    <Button x:Name="FilterUnity" Content="Unity" Tag="Unity"
                            Click="Filter_Click"
                            Background="#161E38" Foreground="#8896C0"
                            BorderThickness="0" CornerRadius="7" Padding="12,6" FontSize="12"/>
                    <Button x:Name="FilterUnreal" Content="Unreal" Tag="Unreal"
                            Click="Filter_Click"
                            Background="#161E38" Foreground="#8896C0"
                            BorderThickness="0" CornerRadius="7" Padding="12,6" FontSize="12"/>
                    <Button x:Name="FilterOther" Content="Other" Tag="Other"
                            Click="Filter_Click"
                            Background="#161E38" Foreground="#8896C0"
                            BorderThickness="0" CornerRadius="7" Padding="12,6" FontSize="12"/>
                    <Button x:Name="FilterLuma" Content="Luma" Tag="Luma"
                            Click="Filter_Click"
                            Background="#161E38" Foreground="#8896C0"
                            BorderThickness="0" CornerRadius="7" Padding="12,6" FontSize="12"/>
                </StackPanel>
                <!-- Spacer -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="10" VerticalAlignment="Center">
                    <Ellipse x:Name="StatusDot" Width="8" Height="8" Fill="#80A890"/>
                    <TextBlock x:Name="GameCountText" Text="0 shown"
                               FontSize="11" Foreground="#404870" VerticalAlignment="Center"/>
                    <TextBlock x:Name="InstalledCountText" Text="0 installed"
                               FontSize="11" Foreground="#4E7860" VerticalAlignment="Center"/>
                    <TextBlock x:Name="HiddenCountText" Text=""
                               FontSize="11" Foreground="#604868" VerticalAlignment="Center"/>
                    <Button x:Name="FilterHidden" Content="üôà Hidden" Tag="Hidden"
                            Click="Filter_Click"
                            Background="#161E38" Foreground="#8896C0"
                            BorderThickness="0" CornerRadius="7" Padding="12,6" FontSize="12"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- ‚ïê‚ïê MAIN AREA ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <Grid Grid.Row="2">

            <!-- Loading overlay -->
            <StackPanel x:Name="LoadingPanel" VerticalAlignment="Center" HorizontalAlignment="Center"
                        Spacing="16" Visibility="Visible">
                <ProgressRing x:Name="LoadingRing" IsActive="True" Width="48" Height="48"
                              Foreground="#6B7FCB"/>
                <TextBlock x:Name="LoadingTitle" Text="Loading..." FontSize="16"
                           Foreground="#8896C0" HorizontalAlignment="Center"/>
                <TextBlock x:Name="LoadingSubtitle" Text="" FontSize="12"
                           Foreground="#404870" HorizontalAlignment="Center"/>
            </StackPanel>

            <!-- ‚ïê‚ïê ABOUT PANEL (overlays the cards area, hidden by default) ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
            <Grid x:Name="AboutPanel" Visibility="Collapsed" Background="#0D1117">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Back button bar -->
                <Border Grid.Row="0" Padding="16,10" Background="#0C1020"
                        BorderBrush="#222A45" BorderThickness="0,0,0,1">
                    <StackPanel Orientation="Horizontal" Spacing="12" VerticalAlignment="Center">
                        <Button x:Name="AboutBackBtn" Content="‚Üê Back"
                                Click="AboutBack_Click"
                                Background="#1A2840" Foreground="#7AACDA"
                                BorderBrush="#2A4060" BorderThickness="1"
                                CornerRadius="8" Padding="12,6" FontSize="12"/>
                        <TextBlock Text="About RenoDXCommander" FontSize="15" FontWeight="SemiBold"
                                   Foreground="#8090C0" VerticalAlignment="Center"/>
                    </StackPanel>
                </Border>

                <!-- Scrollable content -->
                <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                    <StackPanel Padding="32,24,32,40" Spacing="14" MaxWidth="700"
                                HorizontalAlignment="Left">

                        <!-- Hero -->
                        <StackPanel Orientation="Horizontal" Spacing="16" Margin="0,0,0,4">
                            <Image Source="icon.ico" Width="52" Height="52"/>
                            <StackPanel VerticalAlignment="Center" Spacing="4">
                                <TextBlock FontSize="22" FontWeight="Bold">
                                    <Run Text="RenoDXCommander" Foreground="#00C8FF"/>
                                </TextBlock>
                                <TextBlock FontSize="12" Foreground="#4A5878">
                                    <Run Text="v1.3.0  ¬∑  HDR mod manager by "/>
                                    <Run Text="RankFTW" FontWeight="SemiBold" Foreground="#6070A0"/>
                                    <Run Text="  ¬∑  Unofficial companion tool"/>
                                </TextBlock>
                            </StackPanel>
                        </StackPanel>

                        <!-- Disclaimer -->
                        <Border Background="#18141E" CornerRadius="10" Padding="16,12"
                                BorderBrush="#2A2038" BorderThickness="1">
                            <StackPanel Spacing="6">
                                <TextBlock Text="‚ö†  Disclaimer" FontSize="12" FontWeight="SemiBold"
                                           Foreground="#A07050"/>
                                <TextBlock TextWrapping="Wrap" FontSize="12" Foreground="#9080A0" LineHeight="20">
                                    <Run Text="RenoDXCommander is an unofficial third-party tool "/>
                                    <Run Text="not affiliated with or endorsed by the RenoDX project, Crosire, pmnoxx, or the Luma Framework."
                                         FontWeight="SemiBold" Foreground="#C0A0B0"/>
                                    <Run Text=" RenoDX mod files are fetched from official RenoDX GitHub snapshots. Display Commander is downloaded from pmnoxx's GitHub. ReShade with full addon support is downloaded from reshade.me. 7-Zip is bundled under the LGPL licence for archive extraction. No mod files are modified ‚Äî everything is used directly from its official source."/>
                                </TextBlock>
                            </StackPanel>
                        </Border>

                        <!-- What it does -->
                        <Border Background="#111A28" CornerRadius="10" Padding="16,12"
                                BorderBrush="#1C2440" BorderThickness="1">
                            <StackPanel Spacing="8">
                                <TextBlock Text="What this app does" FontSize="12" FontWeight="SemiBold"
                                           Foreground="#A0B0D8"/>
                                <TextBlock TextWrapping="Wrap" FontSize="12" Foreground="#7A8EAE" LineHeight="20">
                                    RenoDXCommander is a one-stop HDR mod manager. It automatically detects games via Steam, GOG, Epic Games, EA App, and Xbox / Game Pass, then installs and manages three components per game: ReShade (post-processing), Display Commander (display management), and the RenoDX HDR mod itself. ReShade with full addon support is downloaded from reshade.me and cached locally. Display Commander is downloaded from pmnoxx's GitHub. RenoDX mods are matched against the live wiki and installed with one click. Updates are detected automatically.
                                </TextBlock>
                            </StackPanel>
                        </Border>

                        <!-- How to use -->
                        <Border Background="#111A28" CornerRadius="10" Padding="16,14"
                                BorderBrush="#1C2440" BorderThickness="1">
                            <StackPanel Spacing="12">
                                <TextBlock Text="How to use" FontSize="12" FontWeight="SemiBold"
                                           Foreground="#A0B0D8"/>
                                <StackPanel Spacing="10">

                                    <!-- Step helper macro via repeated blocks -->
                                    <Grid>
                                        <Grid.ColumnDefinitions><ColumnDefinition Width="28"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                                        <Border Background="#1A2848" CornerRadius="14" Width="24" Height="24" HorizontalAlignment="Left">
                                            <TextBlock Text="1" FontSize="11" FontWeight="Bold" Foreground="#00C8FF" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <TextBlock Grid.Column="1" TextWrapping="Wrap" FontSize="12" Foreground="#7A8EAE" LineHeight="19" VerticalAlignment="Center">
                                            <Run FontWeight="SemiBold" Foreground="#A0B8D8">Find your game</Run>
                                            <Run Text=" ‚Äî RDXC detects Steam, GOG, Epic, EA App, and Xbox / Game Pass automatically. Click ‚ûï Add Game to add manually."/>
                                        </TextBlock>
                                    </Grid>
                                    <Grid>
                                        <Grid.ColumnDefinitions><ColumnDefinition Width="28"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                                        <Border Background="#1A2848" CornerRadius="14" Width="24" Height="24" HorizontalAlignment="Left">
                                            <TextBlock Text="2" FontSize="11" FontWeight="Bold" Foreground="#00C8FF" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <TextBlock Grid.Column="1" TextWrapping="Wrap" FontSize="12" Foreground="#7A8EAE" LineHeight="19" VerticalAlignment="Center">
                                            <Run FontWeight="SemiBold" Foreground="#A0B8D8">Install ReShade</Run>
                                            <Run Text=" ‚Äî Click ‚¨á Install ReShade. The bundled ReShade64.dll is staged to AppData and copied to your game folder as dxgi.dll (or ReShade64.dll in DC Mode)."/>
                                        </TextBlock>
                                    </Grid>
                                    <Grid>
                                        <Grid.ColumnDefinitions><ColumnDefinition Width="28"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                                        <Border Background="#1A2848" CornerRadius="14" Width="24" Height="24" HorizontalAlignment="Left">
                                            <TextBlock Text="3" FontSize="11" FontWeight="Bold" Foreground="#00C8FF" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <TextBlock Grid.Column="1" TextWrapping="Wrap" FontSize="12" Foreground="#7A8EAE" LineHeight="19" VerticalAlignment="Center">
                                            <Run FontWeight="SemiBold" Foreground="#A0B8D8">Install Display Commander</Run>
                                            <Run Text=" ‚Äî Click ‚¨á Install Display Commander. RDXC downloads the latest addon from pmnoxx's GitHub releases."/>
                                        </TextBlock>
                                    </Grid>
                                    <Grid>
                                        <Grid.ColumnDefinitions><ColumnDefinition Width="28"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                                        <Border Background="#1A2848" CornerRadius="14" Width="24" Height="24" HorizontalAlignment="Left">
                                            <TextBlock Text="4" FontSize="11" FontWeight="Bold" Foreground="#00C8FF" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <TextBlock Grid.Column="1" TextWrapping="Wrap" FontSize="12" Foreground="#7A8EAE" LineHeight="19" VerticalAlignment="Center">
                                            <Run FontWeight="SemiBold" Foreground="#A0B8D8">Install RenoDX mod</Run>
                                            <Run Text=" ‚Äî Click ‚¨á Install RenoDX. For Unreal Engine games: Binaries\Win64. For Unity: next to UnityPlayer.dll."/>
                                        </TextBlock>
                                    </Grid>
                                    <Grid>
                                        <Grid.ColumnDefinitions><ColumnDefinition Width="28"/><ColumnDefinition Width="*"/></Grid.ColumnDefinitions>
                                        <Border Background="#1A2848" CornerRadius="14" Width="24" Height="24" HorizontalAlignment="Left">
                                            <TextBlock Text="5" FontSize="11" FontWeight="Bold" Foreground="#00C8FF" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <TextBlock Grid.Column="1" TextWrapping="Wrap" FontSize="12" Foreground="#7A8EAE" LineHeight="19" VerticalAlignment="Center">
                                            <Run FontWeight="SemiBold" Foreground="#A0B8D8">Launch &amp; configure</Run>
                                            <Run Text=" ‚Äî Press Home in-game to open the ReShade overlay. Go to Add-ons ‚Üí RenoDX to configure HDR. Tap ‚Ñπ on the card for game-specific notes."/>
                                        </TextBlock>
                                    </Grid>

                                </StackPanel>
                            </StackPanel>
                        </Border>

                        <!-- Credits & Acknowledgements -->
                        <Border Background="#111A28" CornerRadius="10" Padding="16,14"
                                BorderBrush="#1C2440" BorderThickness="1">
                            <StackPanel Spacing="10">
                                <TextBlock Text="Credits &amp; Acknowledgements" FontSize="12" FontWeight="SemiBold"
                                           Foreground="#A0B0D8"/>
                                <TextBlock TextWrapping="Wrap" FontSize="12" Foreground="#4A5878" LineHeight="20"
                                           Text="This app would not exist without the work of the following people and projects."/>

                                <!-- RenoDX -->
                                <Border Background="#0D1520" CornerRadius="8" Padding="12,10" BorderBrush="#182030" BorderThickness="1">
                                    <StackPanel Spacing="3">
                                        <TextBlock FontSize="12">
                                            <Run Text="‚≠ê " Foreground="#706040"/>
                                            <Run Text="RenoDX" FontWeight="SemiBold" Foreground="#00C8FF"/>
                                            <Run Text=" by clshortfuse &amp; contributors" Foreground="#8090B8"/>
                                            <Run Text="  ¬∑  MIT Licence" Foreground="#405068" FontSize="11"/>
                                        </TextBlock>
                                        <TextBlock FontSize="11" Foreground="#3A4860" Margin="18,0,0,0" TextWrapping="Wrap"
                                                   Text="HDR mod framework powering 150+ games. The entire reason this app exists."/>
                                        <HyperlinkButton NavigateUri="https://github.com/clshortfuse/renodx" Padding="18,2,0,0" FontSize="11">
                                            <TextBlock Foreground="#2A5888" Text="github.com/clshortfuse/renodx"/>
                                        </HyperlinkButton>
                                    </StackPanel>
                                </Border>

                                <!-- ReShade -->
                                <Border Background="#0D1520" CornerRadius="8" Padding="12,10" BorderBrush="#182030" BorderThickness="1">
                                    <StackPanel Spacing="3">
                                        <TextBlock FontSize="12">
                                            <Run Text="üéÆ " Foreground="#405060"/>
                                            <Run Text="ReShade" FontWeight="SemiBold" Foreground="#A0C0E0"/>
                                            <Run Text=" by Crosire" Foreground="#8090B8"/>
                                            <Run Text="  ¬∑  BSD 3-Clause Licence" Foreground="#405068" FontSize="11"/>
                                        </TextBlock>
                                        <TextBlock FontSize="11" Foreground="#3A4860" Margin="18,0,0,0" TextWrapping="Wrap"
                                                   Text="Post-processing injection framework. Downloaded with full addon support from reshade.me and cached locally. Copyright ¬© Crosire."/>
                                        <HyperlinkButton NavigateUri="https://reshade.me" Padding="18,2,0,0" FontSize="11">
                                            <TextBlock Foreground="#2A5888" Text="reshade.me  ¬∑  github.com/crosire/reshade"/>
                                        </HyperlinkButton>
                                    </StackPanel>
                                </Border>

                                <!-- Display Commander -->
                                <Border Background="#0D1520" CornerRadius="8" Padding="12,10" BorderBrush="#182030" BorderThickness="1">
                                    <StackPanel Spacing="3">
                                        <TextBlock FontSize="12">
                                            <Run Text="üñ• " Foreground="#405060"/>
                                            <Run Text="Display Commander" FontWeight="SemiBold" Foreground="#A0C0E0"/>
                                            <Run Text=" by pmnoxx" Foreground="#8090B8"/>
                                            <Run Text="  ¬∑  Source-available" Foreground="#405068" FontSize="11"/>
                                        </TextBlock>
                                        <TextBlock FontSize="11" Foreground="#3A4860" Margin="18,0,0,0" TextWrapping="Wrap"
                                                   Text="ReShade addon for display, window, and audio management. Downloaded from official GitHub releases."/>
                                        <HyperlinkButton NavigateUri="https://github.com/pmnoxx/display-commander" Padding="18,2,0,0" FontSize="11">
                                            <TextBlock Foreground="#2A5888" Text="github.com/pmnoxx/display-commander"/>
                                        </HyperlinkButton>
                                    </StackPanel>
                                </Border>

                                <!-- Luma Framework -->
                                <Border Background="#0D1520" CornerRadius="8" Padding="12,10" BorderBrush="#182030" BorderThickness="1">
                                    <StackPanel Spacing="3">
                                        <TextBlock FontSize="12">
                                            <Run Text="üåü " Foreground="#40A060"/>
                                            <Run Text="Luma Framework" FontWeight="SemiBold" Foreground="#66BB6A"/>
                                            <Run Text=" by Pumbo (Filoppi)" Foreground="#8090B8"/>
                                            <Run Text="  ¬∑  Source-available" Foreground="#405068" FontSize="11"/>
                                        </TextBlock>
                                        <TextBlock FontSize="11" Foreground="#3A4860" Margin="18,0,0,0" TextWrapping="Wrap"
                                                   Text="DX11 modding framework adding HDR support and graphics improvements via the ReShade addon system. Mods are downloaded from official GitHub releases. Experimental integration ‚Äî not fully supported."/>
                                        <HyperlinkButton NavigateUri="https://github.com/Filoppi/Luma-Framework" Padding="18,2,0,0" FontSize="11">
                                            <TextBlock Foreground="#2A5888" Text="github.com/Filoppi/Luma-Framework"/>
                                        </HyperlinkButton>
                                    </StackPanel>
                                </Border>

                                <!-- 7-Zip -->
                                <Border Background="#0D1520" CornerRadius="8" Padding="12,10" BorderBrush="#182030" BorderThickness="1">
                                    <StackPanel Spacing="3">
                                        <TextBlock FontSize="12">
                                            <Run Text="üì¶ " Foreground="#405060"/>
                                            <Run Text="7-Zip" FontWeight="SemiBold" Foreground="#A0C0E0"/>
                                            <Run Text=" by Igor Pavlov" Foreground="#8090B8"/>
                                            <Run Text="  ¬∑  LGPL + BSD 3-Clause" Foreground="#405068" FontSize="11"/>
                                        </TextBlock>
                                        <TextBlock FontSize="11" Foreground="#3A4860" Margin="18,0,0,0" TextWrapping="Wrap"
                                                   Text="Archive utility used to extract ReShade DLLs from the NSIS installer. 7z.exe and 7z.dll are bundled under the LGPL licence. Copyright ¬© Igor Pavlov."/>
                                        <HyperlinkButton NavigateUri="https://www.7-zip.org/" Padding="18,2,0,0" FontSize="11">
                                            <TextBlock Foreground="#2A5888" Text="7-zip.org  ¬∑  LGPL-2.1 / BSD-3-Clause"/>
                                        </HyperlinkButton>
                                    </StackPanel>
                                </Border>

                                <!-- HtmlAgilityPack -->
                                <Border Background="#0D1520" CornerRadius="8" Padding="12,10" BorderBrush="#182030" BorderThickness="1">
                                    <StackPanel Spacing="3">
                                        <TextBlock FontSize="12">
                                            <Run Text="üì¶ " Foreground="#405060"/>
                                            <Run Text="HtmlAgilityPack" FontWeight="SemiBold" Foreground="#A0C0E0"/>
                                            <Run Text=" by ZZZ Projects" Foreground="#8090B8"/>
                                            <Run Text="  ¬∑  MIT Licence" Foreground="#405068" FontSize="11"/>
                                        </TextBlock>
                                        <TextBlock FontSize="11" Foreground="#3A4860" Margin="18,0,0,0" TextWrapping="Wrap"
                                                   Text="HTML parser used to scrape game data from the RenoDX wiki. Copyright ¬© ZZZ Projects Inc."/>
                                        <HyperlinkButton NavigateUri="https://github.com/zzzprojects/html-agility-pack" Padding="18,2,0,0" FontSize="11">
                                            <TextBlock Foreground="#2A5888" Text="github.com/zzzprojects/html-agility-pack"/>
                                        </HyperlinkButton>
                                    </StackPanel>
                                </Border>

                                <!-- CommunityToolkit.Mvvm -->
                                <Border Background="#0D1520" CornerRadius="8" Padding="12,10" BorderBrush="#182030" BorderThickness="1">
                                    <StackPanel Spacing="3">
                                        <TextBlock FontSize="12">
                                            <Run Text="üì¶ " Foreground="#405060"/>
                                            <Run Text="CommunityToolkit.Mvvm" FontWeight="SemiBold" Foreground="#A0C0E0"/>
                                            <Run Text=" by Microsoft" Foreground="#8090B8"/>
                                            <Run Text="  ¬∑  MIT Licence" Foreground="#405068" FontSize="11"/>
                                        </TextBlock>
                                        <TextBlock FontSize="11" Foreground="#3A4860" Margin="18,0,0,0" TextWrapping="Wrap"
                                                   Text="MVVM helpers (ObservableObject, RelayCommand, etc.) used throughout the app. Copyright ¬© .NET Foundation."/>
                                        <HyperlinkButton NavigateUri="https://github.com/CommunityToolkit/dotnet" Padding="18,2,0,0" FontSize="11">
                                            <TextBlock Foreground="#2A5888" Text="github.com/CommunityToolkit/dotnet"/>
                                        </HyperlinkButton>
                                    </StackPanel>
                                </Border>

                                <!-- App author -->
                                <Border Background="#0A1018" CornerRadius="8" Padding="12,10" BorderBrush="#141E2C" BorderThickness="1">
                                    <StackPanel Spacing="3">
                                        <TextBlock FontSize="12">
                                            <Run Text="üîß " Foreground="#405060"/>
                                            <Run Text="RenoDXCommander" FontWeight="SemiBold" Foreground="#39FF14"/>
                                            <Run Text=" by RankFTW" Foreground="#8090B8"/>
                                        </TextBlock>
                                        <TextBlock FontSize="11" Foreground="#3A4860" Margin="18,0,0,0" TextWrapping="Wrap"
                                                   Text="Unofficial companion app. Not affiliated with RenoDX, Crosire, or pmnoxx."/>
                                        <HyperlinkButton NavigateUri="https://github.com/RankFTW" Padding="18,2,0,0" FontSize="11">
                                            <TextBlock Foreground="#2A5888" Text="github.com/RankFTW"/>
                                        </HyperlinkButton>
                                    </StackPanel>
                                </Border>

                            </StackPanel>
                        </Border>

                        <!-- Settings -->
                        <Border Background="#111A28" CornerRadius="10" Padding="16,12"
                                BorderBrush="#1C2440" BorderThickness="1">
                            <StackPanel Spacing="8">
                                <TextBlock Text="Settings" FontSize="12" FontWeight="SemiBold" Foreground="#A0B0D8"/>
                                <ToggleSwitch x:Name="SkipUpdateToggle"
                                              Header="Skip update check on launch"
                                              Toggled="SkipUpdateToggle_Toggled"
                                              OnContent="Disabled ‚Äî RDXC will not check for updates"
                                              OffContent="Enabled ‚Äî RDXC checks for updates on launch"
                                              Foreground="#7A8EAE" FontSize="12"/>
                                <ToggleSwitch x:Name="LumaFeatureToggle"
                                              Header="Luma (Experimental)"
                                              Toggled="LumaFeatureToggle_Toggled"
                                              OnContent="Enabled ‚Äî Luma options visible on cards and filters"
                                              OffContent="Disabled ‚Äî all Luma UI hidden"
                                              Foreground="#7A8EAE" FontSize="12"/>
                            </StackPanel>
                        </Border>

                        <!-- Links -->
                        <Border Background="#111A28" CornerRadius="10" Padding="16,12"
                                BorderBrush="#1C2440" BorderThickness="1">
                            <StackPanel Spacing="8">
                                <TextBlock Text="Links" FontSize="12" FontWeight="SemiBold" Foreground="#A0B0D8"/>
                                <HyperlinkButton NavigateUri="https://github.com/clshortfuse/renodx" Padding="0">
                                    <TextBlock Foreground="#6A8ABE" FontSize="12">üåê  RenoDX Project ‚Äî github.com/clshortfuse/renodx</TextBlock>
                                </HyperlinkButton>
                                <HyperlinkButton NavigateUri="https://github.com/clshortfuse/renodx/wiki/Mods" Padding="0">
                                    <TextBlock Foreground="#6A8ABE" FontSize="12">üìã  RenoDX Mod Wiki</TextBlock>
                                </HyperlinkButton>
                                <HyperlinkButton NavigateUri="https://discord.gg/gF4GRJWZ2A" Padding="0">
                                    <TextBlock Foreground="#6A8ABE" FontSize="12">üí¨  RenoDX Discord</TextBlock>
                                </HyperlinkButton>
                                <HyperlinkButton NavigateUri="https://discord.gg/k3cDruEQ" Padding="0">
                                    <TextBlock Foreground="#6A8ABE" FontSize="12">üí¨  HDR Den Discord</TextBlock>
                                </HyperlinkButton>
                                <HyperlinkButton NavigateUri="https://github.com/Filoppi/Luma-Framework/wiki/Mods-List" Padding="0">
                                    <TextBlock Foreground="#6A8ABE" FontSize="12">üìã  HDR Den / Luma Wiki</TextBlock>
                                </HyperlinkButton>
                                <HyperlinkButton NavigateUri="https://reshade.me" Padding="0">
                                    <TextBlock Foreground="#6A8ABE" FontSize="12">üéÆ  ReShade ‚Äî reshade.me</TextBlock>
                                </HyperlinkButton>
                                <HyperlinkButton NavigateUri="https://github.com/pmnoxx/display-commander" Padding="0">
                                    <TextBlock Foreground="#6A8ABE" FontSize="12">üñ•  Display Commander ‚Äî github.com/pmnoxx/display-commander</TextBlock>
                                </HyperlinkButton>
                                <HyperlinkButton NavigateUri="https://github.com/Filoppi/Luma-Framework" Padding="0">
                                    <TextBlock Foreground="#6A8ABE" FontSize="12">üåü  Luma Framework ‚Äî github.com/Filoppi/Luma-Framework</TextBlock>
                                </HyperlinkButton>
                                <HyperlinkButton NavigateUri="https://www.hdrmods.com/" Padding="0">
                                    <TextBlock Foreground="#6A8ABE" FontSize="12">üé®  Creepy's HDR Guides ‚Äî hdrmods.com</TextBlock>
                                </HyperlinkButton>
                                <HyperlinkButton NavigateUri="https://discord.gg/pQtPYcdE" Padding="0">
                                    <TextBlock Foreground="#6A8ABE" FontSize="12">ü§ù  The Ultra Place / Ultra+ Discord</TextBlock>
                                </HyperlinkButton>
                                <HyperlinkButton NavigateUri="https://github.com/RankFTW" Padding="0">
                                    <TextBlock Foreground="#6A8ABE" FontSize="12">üîß  RankFTW GitHub</TextBlock>
                                </HyperlinkButton>
                            </StackPanel>
                        </Border>

                        <!-- Crash logs & cache -->
                        <Border Background="#0E1520" CornerRadius="10" Padding="16,12"
                                BorderBrush="#1A2438" BorderThickness="1">
                            <StackPanel Spacing="8">
                                <TextBlock Text="ü™≤  Crash &amp; Error Logs" FontSize="12" FontWeight="SemiBold" Foreground="#A0B0D8"/>
                                <TextBlock TextWrapping="Wrap" FontSize="12" Foreground="#5A6880" LineHeight="20">
                                    If the app crashes or behaves unexpectedly, a report is automatically saved to AppData.
                                    Send any <Run Text="crash_*.txt" FontFamily="Consolas" Foreground="#7080A0"/> files to the developer.
                                </TextBlock>
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <Button x:Name="OpenLogsBtn"
                                            Content="üìÇ  Open Logs Folder"
                                            Click="OpenLogsFolder_Click"
                                            Background="#1A2840" Foreground="#7AACDA"
                                            BorderBrush="#2A4060" BorderThickness="1"
                                            CornerRadius="8" Padding="12,6" FontSize="12"/>
                                    <Button x:Name="OpenDownloadsBtn"
                                            Content="üì¶  Open Downloads Cache"
                                            Click="OpenDownloadsFolder_Click"
                                            Background="#1A2840" Foreground="#7AACDA"
                                            BorderBrush="#2A4060" BorderThickness="1"
                                            CornerRadius="8" Padding="12,6" FontSize="12"/>
                                </StackPanel>
                                <TextBlock TextWrapping="Wrap" FontSize="11" Foreground="#303848" LineHeight="18">
                                    Logs: <Run Text="%LocalAppData%\RenoDXCommander\logs\" FontFamily="Consolas" Foreground="#405060"/>
                                </TextBlock>
                                <TextBlock TextWrapping="Wrap" FontSize="11" Foreground="#303848" LineHeight="18">
                                    Downloads: <Run Text="%LocalAppData%\RenoDXCommander\downloads\" FontFamily="Consolas" Foreground="#405060"/>
                                </TextBlock>
                                <TextBlock TextWrapping="Wrap" FontSize="11" Foreground="#303848" LineHeight="18">
                                    ReShade staging: <Run Text="%LocalAppData%\RenoDXCommander\reshade\" FontFamily="Consolas" Foreground="#405060"/>
                                </TextBlock>
                            </StackPanel>
                        </Border>

                    </StackPanel>
                </ScrollViewer>
            </Grid>
            <!-- Cards grid -->
            <!-- ‚ö° UE-Extended toast ‚Äî overlaid top-left, auto-fades ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
            <Border x:Name="UeExtendedToast"
                    HorizontalAlignment="Left" VerticalAlignment="Top"
                    Margin="20,12" Padding="14,10" CornerRadius="10"
                    Background="#1E1432" BorderBrush="#5030A0" BorderThickness="1"
                    Visibility="Collapsed" Opacity="0"
                    MaxWidth="340">
                <StackPanel Orientation="Horizontal" Spacing="10">
                    <TextBlock Text="‚ö°" FontSize="16" VerticalAlignment="Center"/>
                    <TextBlock TextWrapping="Wrap" FontSize="12" Foreground="#C0A0E8" VerticalAlignment="Center"
                               Text="UE-Extended enabled ‚Äî check Discord to confirm this game is compatible before installing."/>
                </StackPanel>
            </Border>

            <ScrollViewer x:Name="CardsScroll" Visibility="Collapsed"
                          VerticalScrollBarVisibility="Auto" Padding="16,14">
                <ItemsControl x:Name="GameCardsList">
                    <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <ItemsWrapGrid Orientation="Horizontal" ItemWidth="{StaticResource CardItemWidth}"/>
                            </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>

                    <ItemsControl.ItemTemplate>
                        <DataTemplate x:DataType="vm:GameCardViewModel">

                            <Border Margin="6" Padding="14,12" CornerRadius="12"
                                    Background="#111820" Height="320"
                                    BorderBrush="#2A3860" BorderThickness="1">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="28"/>   <!-- 0: name row -->
                                        <RowDefinition Height="22"/>   <!-- 1: badges row -->
                                        <RowDefinition Height="Auto"/> <!-- 2: file badge (collapses) -->
                                        <RowDefinition Height="26"/>   <!-- 3: path row -->
                                        <RowDefinition Height="*"/>    <!-- 4: spacer -->
                                        <RowDefinition Height="36"/>   <!-- 5: ReShade row -->
                                        <RowDefinition Height="36"/>   <!-- 6: Display Commander row -->
                                        <RowDefinition Height="36"/>   <!-- 7: RenoDX action buttons -->
                                        <RowDefinition Height="Auto"/> <!-- 8: progress/message -->
                                    </Grid.RowDefinitions>

                                    <!-- Row 0: ‚≠ê | üí¨ | name | üéØ | ‚Ñπ | üö´ -->
                                    <Grid Grid.Row="0" VerticalAlignment="Center">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>  <!-- 0: ‚≠ê favourite -->
                                            <ColumnDefinition Width="Auto"/>  <!-- 1: üí¨ discussion (before name) -->
                                            <ColumnDefinition Width="*"/>     <!-- 2: game name -->
                                            <ColumnDefinition Width="Auto"/>  <!-- 3: üéØ tune -->
                                            <ColumnDefinition Width="Auto"/>  <!-- 4: ‚Ñπ info -->
                                            <ColumnDefinition Width="Auto"/>  <!-- 5: üö´ hide (far right) -->
                                        </Grid.ColumnDefinitions>
                                        <!-- ‚≠ê favourite toggle ‚Äî first element on the row -->
                                        <Button Grid.Column="0"
                                                Click="FavouriteButton_Click" Tag="{x:Bind}"
                                                Background="Transparent" BorderThickness="0"
                                                Width="22" Height="22" Padding="0" Margin="0,0,2,0"
                                                ToolTipService.ToolTip="Toggle favourite">
                                            <Grid>
                                                <TextBlock Text="‚≠ê" FontSize="10" Foreground="#FFD700"
                                                           Visibility="{x:Bind IsFavouriteVisibility, Mode=OneWay}"/>
                                                <TextBlock Text="‚òÜ" FontSize="12" Foreground="#303848"
                                                           Visibility="{x:Bind IsNotFavouriteVisibility, Mode=OneWay}"/>
                                            </Grid>
                                        </Button>
                                        <!-- üí¨ discussion / wiki link ‚Äî shown before the game name so it stands out -->
                                        <Button Grid.Column="1"
                                                Visibility="{x:Bind NameLinkVisibility}"
                                                Click="NameLink_Click" Tag="{x:Bind}"
                                                Background="Transparent" BorderThickness="0"
                                                Width="26" Height="26" Padding="0" Margin="0,0,3,0"
                                                ToolTipService.ToolTip="Open discussion / instructions">
                                            <TextBlock Text="üí¨" FontSize="11" Foreground="#6A9ABE"/>
                                        </Button>
                                        <!-- Game name -->
                                        <TextBlock Grid.Column="2" Text="{x:Bind GameName}"
                                                   FontSize="13" FontWeight="SemiBold" Foreground="#E2E8FF"
                                                   TextTrimming="CharacterEllipsis" MaxLines="1"
                                                   VerticalAlignment="Center"/>
                                        <!-- üéØ per-card wiki name match override -->
                                        <Button Grid.Column="3"
                                                Click="TuneButton_Card_Click" Tag="{x:Bind}"
                                                Background="Transparent" BorderThickness="0"
                                                Width="22" Height="22" Padding="0" Margin="2,0,0,0"
                                                ToolTipService.ToolTip="Overrides (wiki matching, DC Mode exclusion)">
                                            <TextBlock Text="üéØ" FontSize="10" Foreground="#30405A"/>
                                        </Button>
                                        <!-- ‚Ñπ info button ‚Äî always visible -->
                                        <Button Grid.Column="4"
                                                Click="NotesButton_Click" Tag="{x:Bind}"
                                                Background="Transparent" BorderThickness="0"
                                                Width="26" Height="26" Padding="0" Margin="3,0,0,0"
                                                ToolTipService.ToolTip="Game info">
                                            <TextBlock Text="‚Ñπ" FontSize="13" Foreground="#5A6EA0"/>
                                        </Button>
                                        <!-- üö´ hide button ‚Äî far right -->
                                        <Button Grid.Column="5"
                                                Click="HideButton_Click" Tag="{x:Bind}"
                                                Background="Transparent" BorderThickness="0"
                                                Width="26" Height="26" Padding="0" Margin="4,0,0,0"
                                                ToolTipService.ToolTip="{x:Bind HideButtonLabel, Mode=OneWay}">
                                            <Grid>
                                                <TextBlock Text="üö´" FontSize="11" Foreground="#9060A0"
                                                           Visibility="{x:Bind IsHiddenVisibility, Mode=OneWay}"/>
                                                <TextBlock Text="üö´" FontSize="11" Foreground="#282840"
                                                           Visibility="{x:Bind IsNotHiddenVisibility, Mode=OneWay}"/>
                                            </Grid>
                                        </Button>
                                    </Grid>

                                    <!-- Row 1: Source/Engine/Generic badges -->
                                    <StackPanel Grid.Row="1" Orientation="Horizontal" Spacing="4"
                                                VerticalAlignment="Center">
                                        <!-- Luma toggle badge -->
                                        <Border Background="{x:Bind LumaBadgeBackground, Mode=OneWay}"
                                                CornerRadius="5" Padding="0"
                                                BorderBrush="{x:Bind LumaBadgeBorderBrush, Mode=OneWay}"
                                                BorderThickness="1"
                                                Visibility="{x:Bind LumaBadgeVisibility, Mode=OneWay}">
                                            <ToggleButton
                                                IsChecked="{x:Bind IsLumaMode, Mode=OneWay}"
                                                Click="LumaToggle_Click" Tag="{x:Bind}"
                                                Background="Transparent" BorderThickness="0"
                                                Padding="6,2" MinHeight="0" MinWidth="0"
                                                CornerRadius="5">
                                                <TextBlock Text="{x:Bind LumaBadgeLabel, Mode=OneWay}"
                                                           FontSize="10"
                                                           Foreground="{x:Bind LumaBadgeForeground, Mode=OneWay}"/>
                                            </ToggleButton>
                                        </Border>
                                        <Border Background="#1E2848" CornerRadius="5" Padding="6,2"
                                                Visibility="{x:Bind SourceBadgeVisibility}">
                                            <TextBlock FontSize="10" Foreground="#8090B8">
                                                <Run Text="{x:Bind SourceIcon}"/>
                                                <Run Text=" "/>
                                                <Run Text="{x:Bind Source}"/>
                                            </TextBlock>
                                        </Border>
                                        <Border Background="#1E2040" CornerRadius="5" Padding="6,2"
                                                BorderBrush="#303460" BorderThickness="1"
                                                Visibility="{x:Bind EngineBadgeVisibility}">
                                            <TextBlock Text="{x:Bind EngineHint}"
                                                       FontSize="10" Foreground="#9AAAD8"/>
                                        </Border>
                                        <Border Background="#28203A" CornerRadius="5" Padding="6,2"
                                                BorderBrush="#48305A" BorderThickness="1"
                                                Visibility="{x:Bind GenericBadgeVisibility, Mode=OneWay}">
                                            <TextBlock Text="{x:Bind GenericModLabel}"
                                                       FontSize="10" Foreground="#B890C8"/>
                                        </Border>
                                        <!-- Update available badge -->
                                        <Border Background="#1A2010" CornerRadius="5" Padding="6,2"
                                                BorderBrush="#2E4020" BorderThickness="1"
                                                Visibility="{x:Bind UpdateBadgeVisibility, Mode=OneWay}">
                                            <TextBlock Text="‚¨Ü Update"
                                                       FontSize="10" Foreground="#80B860"/>
                                        </Border>
                                        <!-- 32-bit mode badge -->
                                        <Border Background="#1E0C04" CornerRadius="5" Padding="6,2"
                                                BorderBrush="#5A2810" BorderThickness="1"
                                                Visibility="{x:Bind Is32BitBadgeVisibility, Mode=OneWay}">
                                            <TextBlock Text="32-bit"
                                                       FontSize="10" Foreground="#E08040"/>
                                        </Border>
                                    </StackPanel>

                                    <!-- Row 2: Installed file badge (full width) -->
                                    <Border Grid.Row="2" VerticalAlignment="Center" Margin="0,3,0,0"
                                            Background="#172818" CornerRadius="5" Padding="7,2"
                                            BorderBrush="#284038" BorderThickness="1"
                                            Visibility="{x:Bind InstalledFileLabelVisible, Mode=OneWay}">
                                        <TextBlock Text="{x:Bind InstalledFileLabel, Mode=OneWay}"
                                                   FontSize="10" Foreground="#7AB898"
                                                   TextTrimming="CharacterEllipsis" MaxLines="1"/>
                                    </Border>

                                    <!-- Row 3: Path + folder button -->
                                    <Border Grid.Row="3" Background="#141830" CornerRadius="6"
                                            Padding="8,4" Margin="0,4,0,0">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <TextBlock Grid.Column="0"
                                                       Text="{x:Bind InstallPathDisplay, Mode=OneWay}"
                                                       FontSize="11" Foreground="#6070A0"
                                                       TextTrimming="CharacterEllipsis" MaxLines="1"
                                                       VerticalAlignment="Center" FontFamily="Consolas"/>
                                            <!-- Folder flyout button -->
                                            <Button Grid.Column="1"
                                                    Background="Transparent" BorderThickness="0"
                                                    Padding="4,0" Height="22">
                                                <Button.Flyout>
                                                    <MenuFlyout>
                                                        <MenuFlyoutItem Text="üìÇ  Open in Explorer"
                                                                        Click="OpenFolder_Click" Tag="{x:Bind}"/>
                                                        <MenuFlyoutItem Text="üìÅ  Change install folder"
                                                                        Click="BrowseFolder_Click" Tag="{x:Bind}"/>
                                                        <MenuFlyoutItem Text="üîÑ  Reset folder / Remove game"
                                                                        Click="RemoveManualGame_Click" Tag="{x:Bind}"/>
                                                    </MenuFlyout>
                                                </Button.Flyout>
                                                <TextBlock Text="üìÅ" FontSize="12"/>
                                            </Button>
                                        </Grid>
                                    </Border>

                                    <!-- Row 4: Spacer -->
                                    <Grid Grid.Row="4"/>

                                    <!-- Row 5: ReShade install row [install*][üìã INI][üóë delete] -->
                                    <Grid Grid.Row="5" VerticalAlignment="Stretch" Margin="0,0,0,2"
                                          Visibility="{x:Bind ReShadeRowVisibility, Mode=OneWay}">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <Button Grid.Column="0"
                                                IsEnabled="{x:Bind IsRsNotInstalling, Mode=OneWay}"
                                                Click="InstallRsButton_Click" Tag="{x:Bind}"
                                                HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                CornerRadius="10,0,0,10"
                                                FontSize="12" FontWeight="SemiBold"
                                                Background="{x:Bind RsBtnBackground, Mode=OneWay}"
                                                Foreground="{x:Bind RsBtnForeground, Mode=OneWay}"
                                                BorderBrush="{x:Bind RsBtnBorderBrush, Mode=OneWay}"
                                                BorderThickness="1,1,0,1"
                                                Margin="0,0,1,0">
                                            <TextBlock Text="{x:Bind RsActionLabel, Mode=OneWay}" FontSize="12"/>
                                        </Button>
                                        <!-- üìã INI button: copies reshade.ini from inis folder to game dir -->
                                        <Button Grid.Column="1"
                                                Click="RsIniButton_Click" Tag="{x:Bind}"
                                                IsEnabled="{x:Bind RsIniExists, Mode=OneWay}"
                                                HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                CornerRadius="{x:Bind RsIniCornerRadius, Mode=OneWay}"
                                                FontSize="13"
                                                Background="#0F1E20" Foreground="#2A8080"
                                                BorderBrush="#1A3838"
                                                BorderThickness="{x:Bind RsIniBorderThickness, Mode=OneWay}"
                                                Width="44" Margin="{x:Bind RsIniMargin, Mode=OneWay}"
                                                ToolTipService.ToolTip="Copy reshade.ini from inis folder to game directory">
                                            <TextBlock Text="üìã" FontSize="13"/>
                                        </Button>
                                        <!-- üóë Delete -->
                                        <Button Grid.Column="2"
                                                Visibility="{x:Bind RsDeleteVisibility, Mode=OneWay}"
                                                Click="UninstallRsButton_Click" Tag="{x:Bind}"
                                                HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                CornerRadius="0,10,10,0" FontSize="13"
                                                Background="#1A1020" Foreground="#7A4870"
                                                BorderBrush="#2A1830" BorderThickness="1"
                                                Width="44" ToolTipService.ToolTip="Remove ReShade">
                                            <TextBlock Text="üóë" FontSize="13"/>
                                        </Button>
                                    </Grid>

                                    <!-- Row 6: Display Commander install row [install*][üìã INI][üóë delete] -->
                                    <Grid Grid.Row="6" VerticalAlignment="Stretch" Margin="0,0,0,2"
                                          Visibility="{x:Bind DcRowVisibility, Mode=OneWay}">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <Button Grid.Column="0"
                                                IsEnabled="{x:Bind IsDcNotInstalling, Mode=OneWay}"
                                                Click="InstallDcButton_Click" Tag="{x:Bind}"
                                                HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                CornerRadius="10,0,0,10"
                                                FontSize="12" FontWeight="SemiBold"
                                                Background="{x:Bind DcBtnBackground, Mode=OneWay}"
                                                Foreground="{x:Bind DcBtnForeground, Mode=OneWay}"
                                                BorderBrush="{x:Bind DcBtnBorderBrush, Mode=OneWay}"
                                                BorderThickness="1,1,0,1"
                                                Margin="0,0,1,0">
                                            <TextBlock Text="{x:Bind DcActionLabel, Mode=OneWay}" FontSize="12"/>
                                        </Button>
                                        <!-- üìã INI button: copies DisplayCommander.toml from inis folder to game dir -->
                                        <Button Grid.Column="1"
                                                Click="DcIniButton_Click" Tag="{x:Bind}"
                                                IsEnabled="{x:Bind DcIniExists, Mode=OneWay}"
                                                HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                CornerRadius="{x:Bind DcIniCornerRadius, Mode=OneWay}"
                                                FontSize="13"
                                                Background="#0F1E20" Foreground="#2A8080"
                                                BorderBrush="#1A3838"
                                                BorderThickness="{x:Bind DcIniBorderThickness, Mode=OneWay}"
                                                Width="44" Margin="{x:Bind DcIniMargin, Mode=OneWay}"
                                                ToolTipService.ToolTip="Copy DisplayCommander.toml from inis folder to game directory">
                                            <TextBlock Text="üìã" FontSize="13"/>
                                        </Button>
                                        <!-- üóë Delete -->
                                        <Button Grid.Column="2"
                                                Visibility="{x:Bind DcDeleteVisibility, Mode=OneWay}"
                                                Click="UninstallDcButton_Click" Tag="{x:Bind}"
                                                HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                CornerRadius="0,10,10,0" FontSize="13"
                                                Background="#1A1020" Foreground="#7A4870"
                                                BorderBrush="#2A1830" BorderThickness="1"
                                                Width="44" ToolTipService.ToolTip="Remove Display Commander">
                                            <TextBlock Text="üóë" FontSize="13"/>
                                        </Button>
                                    </Grid>

                                    <!-- Row 7a-alt: No mod available label (game not on wiki, no snapshot) -->
                                    <Border Grid.Row="7"
                                            Visibility="{x:Bind NoModVisibility, Mode=OneWay}"
                                            Background="#181420" CornerRadius="10" Padding="10,0"
                                            BorderBrush="#2A1E38" BorderThickness="1"
                                            VerticalAlignment="Stretch">
                                        <TextBlock Text="No RenoDX mod available for this game"
                                                   FontSize="11" Foreground="#60506A"
                                                   HorizontalAlignment="Center" VerticalAlignment="Center"
                                                   TextWrapping="Wrap" TextAlignment="Center"/>
                                    </Border>

                                    <!-- Row 7a-luma: Switch to Luma Mode (no RenoDX mod but Luma available) -->
                                    <Button Grid.Row="7"
                                            Visibility="{x:Bind SwitchToLumaVisibility, Mode=OneWay}"
                                            Click="SwitchToLumaButton_Click" Tag="{x:Bind}"
                                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                            CornerRadius="10" FontSize="12" FontWeight="SemiBold"
                                            Background="#1A3020" Foreground="#60C070"
                                            BorderBrush="#305030" BorderThickness="1">
                                        <TextBlock Text="üåü Switch to Luma Mode" FontSize="12"/>
                                    </Button>

                                    <!-- Row 7a: External only (Nexus/Discord with no snapshot) -->
                                    <Button Grid.Row="7"
                                            Visibility="{x:Bind ExternalBtnVisibility, Mode=OneWay}"
                                            Click="ExternalLink_Click" Tag="{x:Bind}"
                                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                            CornerRadius="10" FontSize="12" FontWeight="SemiBold"
                                            Background="#1E2840" Foreground="#90C0F0"
                                            BorderBrush="#304870" BorderThickness="1">
                                        <TextBlock Text="{x:Bind ExternalLabel}" FontSize="12"/>
                                    </Button>

                                    <!-- Row 7b: Single install + Luma switch + UE-Extended -->
                                    <Grid Grid.Row="7"
                                          Visibility="{x:Bind InstallOnlyBtnVisibility, Mode=OneWay}"
                                          VerticalAlignment="Stretch">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <Button Grid.Column="0"
                                                IsEnabled="{x:Bind CanInstall, Mode=OneWay}"
                                                Click="InstallButton_Click" Tag="{x:Bind}"
                                                HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                CornerRadius="{x:Bind R7bInstallCornerRadius, Mode=OneWay}"
                                                FontSize="13" FontWeight="SemiBold"
                                                Background="#243870" Foreground="#AACCFF"
                                                BorderBrush="#3050A0"
                                                BorderThickness="{x:Bind R7bInstallBorderThickness, Mode=OneWay}"
                                                Margin="{x:Bind R7bInstallMargin, Mode=OneWay}">
                                            <TextBlock Text="‚¨á  Install RenoDX" FontSize="13"/>
                                        </Button>
                                        <!-- üåü Switch to Luma Mode -->
                                        <Button Grid.Column="1"
                                                Visibility="{x:Bind R7bLumaSwitchVisibility, Mode=OneWay}"
                                                Click="SwitchToLumaButton_Click" Tag="{x:Bind}"
                                                HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                CornerRadius="{x:Bind R7bLumaSwitchCornerRadius, Mode=OneWay}"
                                                Background="#1A3020" Foreground="#60C070"
                                                BorderBrush="#305030"
                                                BorderThickness="{x:Bind R7bLumaSwitchBorderThickness, Mode=OneWay}"
                                                Width="44" Margin="{x:Bind R7bLumaSwitchMargin, Mode=OneWay}"
                                                ToolTipService.ToolTip="Switch to Luma Mode">
                                            <TextBlock Text="üåü" FontSize="13"/>
                                        </Button>
                                        <!-- ‚ö° UE-Extended toggle -->
                                        <Border Grid.Column="2"
                                                Visibility="{x:Bind UeExtendedToggleVisibility, Mode=OneWay}"
                                                Margin="0,0,1,0">
                                            <ToggleButton
                                                IsChecked="{x:Bind UseUeExtended, Mode=OneWay}"
                                                Click="UeExtendedToggle_Click" Tag="{x:Bind}"
                                                HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                Background="{x:Bind UeExtendedBackground, Mode=OneWay}"
                                                Foreground="{x:Bind UeExtendedForeground, Mode=OneWay}"
                                                BorderBrush="{x:Bind UeExtendedBorderBrush, Mode=OneWay}"
                                                BorderThickness="0,1,1,1" CornerRadius="0,10,10,0"
                                                Width="44" Padding="0" FontSize="13"
                                                ToolTipService.ToolTip="UE-Extended - DO NOT INSTALL UNLESS YOU KNOW IT IS COMPATIBLE - Check Discord">
                                                <TextBlock Text="‚ö°" FontSize="13"/>
                                            </ToggleButton>
                                        </Border>
                                    </Grid>

                                    <!-- Row 7b2: 32-bit UE WIP placeholder -->
                                    <Button Grid.Row="7"
                                            Visibility="{x:Bind Is32BitUeWipVisibility, Mode=OneWay}"
                                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                            CornerRadius="10" FontSize="12" FontWeight="SemiBold"
                                            Background="#1C1008" Foreground="#806030"
                                            BorderBrush="#403018" BorderThickness="1"
                                            IsEnabled="False"
                                            ToolTipService.ToolTip="32-bit Unreal Engine addon support is work in progress.">
                                        <TextBlock Text="‚ö†  UE 32-bit ‚Äî WIP" FontSize="12"/>
                                    </Button>

                                    <!-- Row 7c: Dual-bit Unity install (legacy - now collapsed) -->
                                    <Grid Grid.Row="7"
                                          Visibility="{x:Bind DualBitInstallVisibility, Mode=OneWay}"
                                          VerticalAlignment="Stretch">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="8"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Button Grid.Column="0"
                                                Click="Install64Button_Click" Tag="{x:Bind}"
                                                HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                CornerRadius="10" FontSize="12" FontWeight="SemiBold"
                                                Background="#243870" Foreground="#AACCFF"
                                                BorderBrush="#3050A0" BorderThickness="1">
                                            <TextBlock Text="‚¨á 64-bit" FontSize="12"/>
                                        </Button>
                                        <Button Grid.Column="2"
                                                Click="Install32Button_Click" Tag="{x:Bind}"
                                                HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                CornerRadius="10" FontSize="12" FontWeight="SemiBold"
                                                Background="#1E2848" Foreground="#90AADC"
                                                BorderBrush="#304068" BorderThickness="1">
                                            <TextBlock Text="‚¨á 32-bit" FontSize="12"/>
                                        </Button>
                                    </Grid>

                                    <!-- Row 7d: Reinstall/Update + Nexus + UE-Extended + Delete -->
                                    <Grid Grid.Row="7"
                                          Visibility="{x:Bind ReinstallRowVisibility, Mode=OneWay}"
                                          VerticalAlignment="Stretch">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <!-- Reinstall/Update ‚Äî purple tint when update available -->
                                        <Button Grid.Column="0"
                                                IsEnabled="{x:Bind CanInstall, Mode=OneWay}"
                                                Click="InstallButton_Click" Tag="{x:Bind}"
                                                HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                CornerRadius="10,0,0,10" FontSize="12" FontWeight="SemiBold"
                                                Background="{x:Bind InstallBtnBackground, Mode=OneWay}"
                                                Foreground="{x:Bind InstallBtnForeground, Mode=OneWay}"
                                                BorderBrush="{x:Bind InstallBtnBorderBrush, Mode=OneWay}"
                                                BorderThickness="1,1,0,1"
                                                Margin="0,0,1,0">
                                            <TextBlock Text="{x:Bind InstallActionLabel, Mode=OneWay}" FontSize="12"/>
                                        </Button>
                                        <!-- Nexus/Discord link (if available) -->
                                        <Button Grid.Column="1"
                                                Visibility="{x:Bind ExtraLinkVisibility, Mode=OneWay}"
                                                Click="ExternalLink_Click" Tag="{x:Bind}"
                                                HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                CornerRadius="0" FontSize="11"
                                                Background="#141E30" Foreground="#5580A0"
                                                BorderBrush="#1E3050" BorderThickness="0,1,0,1"
                                                Width="44" Margin="0,0,1,0"
                                                ToolTipService.ToolTip="{x:Bind ExternalLabel}">
                                            <TextBlock Text="üåê" FontSize="13"/>
                                        </Button>
                                        <!-- ‚ö° UE-Extended toggle -->
                                        <Border Grid.Column="2"
                                                Visibility="{x:Bind UeExtendedToggleVisibility, Mode=OneWay}"
                                                Margin="0,0,1,0">
                                            <ToggleButton
                                                IsChecked="{x:Bind UseUeExtended, Mode=OneWay}"
                                                Click="UeExtendedToggle_Click" Tag="{x:Bind}"
                                                HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                Background="{x:Bind UeExtendedBackground, Mode=OneWay}"
                                                Foreground="{x:Bind UeExtendedForeground, Mode=OneWay}"
                                                BorderBrush="{x:Bind UeExtendedBorderBrush, Mode=OneWay}"
                                                BorderThickness="0,1,0,1" CornerRadius="0"
                                                Width="44" Padding="0" FontSize="13"
                                                ToolTipService.ToolTip="UE-Extended - DO NOT INSTALL UNLESS YOU KNOW IT IS COMPATIBLE - Check Discord">
                                                <TextBlock Text="‚ö°" FontSize="13"/>
                                            </ToggleButton>
                                        </Border>
                                        <!-- Delete (always present in 7d ‚Äî gives ‚ö° its flat right edge) -->
                                        <Button Grid.Column="3"
                                                Click="UninstallButton_Click" Tag="{x:Bind}"
                                                HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                CornerRadius="0,10,10,0" FontSize="13"
                                                Background="#1A1020" Foreground="#7A4870"
                                                BorderBrush="#2A1830" BorderThickness="1"
                                                Width="44"
                                                ToolTipService.ToolTip="Remove mod">
                                            <TextBlock Text="üóë" FontSize="13"/>
                                        </Button>
                                    </Grid>

                                    <!-- Row 7e: Luma install (visible only in Luma mode) -->
                                    <Button Grid.Row="7"
                                            Visibility="{x:Bind LumaInstallVisibility, Mode=OneWay}"
                                            IsEnabled="{x:Bind IsLumaNotInstalling, Mode=OneWay}"
                                            Click="InstallLumaButton_Click" Tag="{x:Bind}"
                                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                            CornerRadius="10" FontSize="13" FontWeight="SemiBold"
                                            Background="#1A3828" Foreground="#80D090"
                                            BorderBrush="#286040" BorderThickness="1">
                                        <TextBlock Text="‚¨á  Install Luma" FontSize="13"/>
                                    </Button>

                                    <!-- Row 7f: Luma reinstall/uninstall (visible when Luma installed) -->
                                    <Grid Grid.Row="7"
                                          Visibility="{x:Bind LumaReinstallVisibility, Mode=OneWay}"
                                          VerticalAlignment="Stretch">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <Button Grid.Column="0"
                                                IsEnabled="{x:Bind IsLumaNotInstalling, Mode=OneWay}"
                                                Click="InstallLumaButton_Click" Tag="{x:Bind}"
                                                HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                CornerRadius="10,0,0,10" FontSize="12" FontWeight="SemiBold"
                                                Background="#1A3828" Foreground="#80D090"
                                                BorderBrush="#286040" BorderThickness="1,1,0,1"
                                                Margin="0,0,1,0">
                                            <TextBlock Text="{x:Bind LumaActionLabel, Mode=OneWay}" FontSize="12"/>
                                        </Button>
                                        <Button Grid.Column="1"
                                                Click="UninstallLumaButton_Click" Tag="{x:Bind}"
                                                HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                CornerRadius="0,10,10,0"
                                                Background="#1A1010" Foreground="#A06060"
                                                BorderBrush="#2A1830" BorderThickness="1"
                                                Width="44"
                                                ToolTipService.ToolTip="Remove Luma mod">
                                            <TextBlock Text="üóë" FontSize="13"/>
                                        </Button>
                                    </Grid>

                                    <!-- Row 8: Progress + message (ReShade / DC / RenoDX / Luma) -->
                                    <StackPanel Grid.Row="8" Spacing="2" Margin="0,4,0,0">
                                        <!-- Luma progress -->
                                        <ProgressBar Visibility="{x:Bind LumaProgressVisibility, Mode=OneWay}"
                                                     Value="{x:Bind LumaProgress, Mode=OneWay}"
                                                     Maximum="100" Height="3" CornerRadius="2"
                                                     Foreground="#40A060" Background="#141E30"/>
                                        <TextBlock Text="{x:Bind LumaActionMessage, Mode=OneWay}"
                                                   Visibility="{x:Bind LumaMessageVisibility, Mode=OneWay}"
                                                   FontSize="10" Foreground="#60C080"
                                                   TextWrapping="Wrap" MaxLines="1"/>
                                        <!-- ReShade progress -->
                                        <ProgressBar Visibility="{x:Bind RsProgressVisibility, Mode=OneWay}"
                                                     Value="{x:Bind RsProgress, Mode=OneWay}"
                                                     Maximum="100" Height="3" CornerRadius="2"
                                                     Foreground="#5E8890" Background="#141E30"/>
                                        <TextBlock Text="{x:Bind RsActionMessage, Mode=OneWay}"
                                                   Visibility="{x:Bind RsMessageVisibility, Mode=OneWay}"
                                                   FontSize="10" Foreground="#80A0B0"
                                                   TextWrapping="Wrap" MaxLines="1"/>
                                        <!-- Display Commander progress -->
                                        <ProgressBar Visibility="{x:Bind DcProgressVisibility, Mode=OneWay}"
                                                     Value="{x:Bind DcProgress, Mode=OneWay}"
                                                     Maximum="100" Height="3" CornerRadius="2"
                                                     Foreground="#4E9888" Background="#141E30"/>
                                        <TextBlock Text="{x:Bind DcActionMessage, Mode=OneWay}"
                                                   Visibility="{x:Bind DcMessageVisibility, Mode=OneWay}"
                                                   FontSize="10" Foreground="#70A090"
                                                   TextWrapping="Wrap" MaxLines="1"/>
                                        <!-- RenoDX progress -->
                                        <ProgressBar Visibility="{x:Bind ProgressVisibility, Mode=OneWay}"
                                                     Value="{x:Bind InstallProgress, Mode=OneWay}"
                                                     Maximum="100" Height="3" CornerRadius="2"
                                                     Foreground="#4E7898" Background="#141E30"/>
                                        <TextBlock Text="{x:Bind ActionMessage, Mode=OneWay}"
                                                   Visibility="{x:Bind MessageVisibility, Mode=OneWay}"
                                                   FontSize="10" Foreground="#7090C0"
                                                   TextWrapping="Wrap" MaxLines="1"/>
                                    </StackPanel>

                                </Grid>
                            </Border>

                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </Grid>

        <!-- ‚ïê‚ïê STATUS BAR ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <Border Grid.Row="3" Padding="20,6" Background="#0A0E1A"
                BorderBrush="#141C30" BorderThickness="0,1,0,0">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center" Spacing="12">
                    <TextBlock x:Name="StatusBarText" Text=""
                               FontSize="11" Foreground="#2A3450"/>
                </StackPanel>
                <TextBlock Grid.Column="1" VerticalAlignment="Center" HorizontalAlignment="Center"
                           FontSize="10" Foreground="#5A3030"
                           Text="‚ö† Single-player only ‚Äî ReShade with addon support may trigger anti-cheat in online/multiplayer games"/>
                <Button Grid.Column="2" Content="Patch Notes"
                        Click="PatchNotesLink_Click"
                        Background="Transparent" BorderThickness="0"
                        Foreground="#4A5878" FontSize="11"
                        Padding="8,2" VerticalAlignment="Center" HorizontalAlignment="Right"
                        ToolTipService.ToolTip="View recent patch notes"/>
            </Grid>
        </Border>

    </Grid>
</Window>
